# バックエンド API 仕様書

## 概要

この API は認証機能を備えたユーザー管理システムを提供します。

## エンドポイント一覧

### 認証関連 (/auth)

| エンドポイント | メソッド | 認証要件                 | 説明                                                     |
| -------------- | -------- | ------------------------ | -------------------------------------------------------- |
| /auth/token    | POST     | 不要                     | ログイン用。アクセストークンとリフレッシュトークンを発行 |
| /auth/refresh  | POST     | リフレッシュトークン必要 | 新しいアクセストークンを発行                             |

### ユーザー管理 (/users)

| エンドポイント         | メソッド | 認証要件                   | 説明                             |
| ---------------------- | -------- | -------------------------- | -------------------------------- |
| /users/                | POST     | 不要                       | 新規ユーザー登録                 |
| /users/{user_id}       | GET      | 要認証                     | 指定 ID のユーザー情報取得       |
| /users/name/{username} | GET      | 要認証                     | 指定ユーザー名のユーザー情報取得 |
| /users/                | GET      | 要認証                     | 全ユーザー情報取得               |
| /users/{user_id}       | PUT      | 要認証（自身または管理者） | ユーザー情報更新                 |
| /users/{user_id}       | DELETE   | 要認証（管理者のみ）       | ユーザー削除                     |

## 認証について

- アクセストークン: API の大部分の機能を利用するために必要
- リフレッシュトークン: アクセストークンの再発行に使用
- 管理者権限: 特定の操作（ユーザー削除など）には管理者権限が必要

## 権限レベル

1. 未認証ユーザー
   - ログイン
   - ユーザー登録
2. 認証済みユーザー
   - 自身の情報の取得・更新
   - 他ユーザーの情報取得
3. 管理者ユーザー
   - 全ての操作が可能
   - ユーザーの削除
   - 管理者権限の付与・剥奪
